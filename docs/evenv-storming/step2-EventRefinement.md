## Step 2 - 정제된 도메인 이벤트 (Refined Events)

Step 1에서 식별된 원시 이벤트를 분석하고 정제하여 핵심 이벤트만 추출합니다. 기술적 세부 사항이나 중복 정보는 제거합니다.

### 핵심 비즈니스 이벤트

- 주문 요청이 접수되었다
- 주문 항목이 검증되었다
- 상품 재고가 충분하다
- 쿠폰이 유효하다
- 쿠폰이 사용되었다
- 주문 금액이 계산되었다
- 사용자 잔액이 확인되었다
- 잔액이 충분하다
- 결제 금액이 차감되었다
- 결제가 완료되었다
- 주문이 생성되었다
- 주문 정보가 외부 플랫폼으로 전송되었다

### 제거된 이벤트 및 사유

```
이벤트제거 사유상품 재고가 확인되었다단순한 기술 이벤트. 
도메인상 중요한 것은 "충분/부족 여부"상품 재고가 부족하다예외 흐름으로 처리 예정. 
메인 플로우에서는 제거쿠폰이 무효하다예외 흐름으로 처리 예정. 
메인 플로우에서는 제거잔액이 부족하다예외 흐름으로 처리 예정.
메인 플로우에서는 제거상품 재고가 차감되었다구현 세부사항. 
"상품 재고가 충분하다" 이벤트 이후 암묵적으로 발생주문이 재고 부족으로 실패하였다예외 흐름. 
별도 예외 처리 로직으로 관리주문이 잔액 부족으로 실패하였다예외 흐름. 
별도 예외 처리 로직으로 관리주문이 쿠폰 없이 진행된다정상 흐름의 변형. 
쿠폰 관련 이벤트만으로 표현 가능
```

### 이벤트 재정렬

정제된 이벤트를 비즈니스 프로세스에 따라 순서대로 배열하였습니다:

1. 주문 요청이 접수되었다
2. 주문 항목이 검증되었다
3. 상품 재고가 충분하다
4. 쿠폰이 유효하다
5. 쿠폰이 사용되었다
6. 주문 금액이 계산되었다
7. 사용자 잔액이 확인되었다
8. 잔액이 충분하다
9. 결제 금액이 차감되었다
10. 결제가 완료되었다
11. 주문이 생성되었다
12. 주문 정보가 외부 플랫폼으로 전송되었다